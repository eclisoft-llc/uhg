CREATE TABLE IF NOT EXISTS COMPACT.DIM_PROVIDER_CONTRACT (
CONTRACT_DIM_ID NUMBER NOT NULL DEFAULT -1  CONSTRAINT PK_F_DIM_PROVIDER_CONTRACT_DIM_ID PRIMARY KEY,
PROV_DIM_ID NUMBER NOT NULL,
SEQ_PROV_CONTRACT NUMBER NOT NULL,
CONTRACT_TYPE VARCHAR(1) NOT NULL,
PROV_CONTRACT_LINE_OF_BUSINESS VARCHAR(5),
PANEL_ID VARCHAR(5),
PROV_CONTRACT_EFFECTIVE_DATE DATE NOT NULL,
PROV_CONTRACT_TERM_DATE DATE,
TERM_REASON VARCHAR(5),
PCP_FLAG VARCHAR(1),
TAX_ID VARCHAR(15) DEFAULT '0',
DW_INSERT_DATETIME DATE,
DW_UPDATE_DATETIME DATE,
VEND_DIM_ID NUMBER NOT NULL,
CONTRACT_TYPE_DIM_ID NUMBER NOT NULL,
CONTRACT_TYPE_DESC VARCHAR(20),
CONT_LINE_OF_BUSINESS_DIM_ID NUMBER NOT NULL,
PROVIDER_PAR_DIM_ID NUMBER NOT NULL,
PROV_CONTRACT_ID VARCHAR(40),
NETWORK_DIM_ID NUMBER NOT NULL DEFAULT -1,
CONVERTED_FROM_DIM_ID NUMBER DEFAULT -1,
RECORD_STATUS_DIM_ID NUMBER DEFAULT -1,
ACC_NEW_PAT_IND VARCHAR(1),
PROV_AGREEMENT_DIM_ID NUMBER NOT NULL DEFAULT -1,
SF_INSERT_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_UPDATE_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_PROCESS_ID VARCHAR(36),
CONSTRAINT UK_F_DIM_PROVIDER_CONTRACT_DIM_ID_SEQ_CONTRACT UNIQUE (PROV_DIM_ID,SEQ_PROV_CONTRACT),
CONSTRAINT FK_DIM_PROV_CONTRACT_DIM_PROVIDER FOREIGN KEY (PROV_DIM_ID) REFERENCES COMPACT.DIM_PROVIDER(PROV_DIM_ID),
CONSTRAINT FK_DIM_PROV_CONTRACT_DIM_VENDOR FOREIGN KEY (VEND_DIM_ID) REFERENCES COMPACT.DIM_VENDOR(VEND_DIM_ID),
CONSTRAINT FK_DIM_PROV_CONTRACT_DIM_CONVERTED_FROM FOREIGN KEY (CONVERTED_FROM_DIM_ID) REFERENCES COMPACT.DIM_CONVERTED_FROM(CONVERTED_FROM_DIM_ID),
CONSTRAINT FK_DIM_PROV_CONTRACT_DIM_LINE_OF_BUSINESS FOREIGN KEY (CONT_LINE_OF_BUSINESS_DIM_ID) REFERENCES COMPACT.DIM_LINE_OF_BUSINESS(LINE_OF_BUSINESS_DIM_ID),
CONSTRAINT FK_DIM_PROV_CONTRACT_DIM_NETWORK FOREIGN KEY (NETWORK_DIM_ID) REFERENCES COMPACT.DIM_NETWORK(NETWORK_DIM_ID),
CONSTRAINT FK_DIM_PROV_CONTRACT_DIM_PROVIDER_CONT_TYPE FOREIGN KEY (CONTRACT_TYPE_DIM_ID) REFERENCES COMPACT.DIM_PROVIDER_CONTRACT_TYPE(CONTRACT_TYPE_DIM_ID),
CONSTRAINT FK_DIM_PROV_CONTRACT_DIM_PROV_AGREEMENT FOREIGN KEY (PROV_AGREEMENT_DIM_ID) REFERENCES COMPACT.DIM_PROV_AGREEMENT(PROV_AGREEMENT_DIM_ID)
);

