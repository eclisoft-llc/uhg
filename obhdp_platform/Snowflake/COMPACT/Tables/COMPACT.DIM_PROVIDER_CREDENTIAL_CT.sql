CREATE TABLE IF NOT EXISTS COMPACT.DIM_PROVIDER_CREDENTIAL (
PROV_CRED_DIM_ID NUMBER NOT NULL CONSTRAINT PK_F_DIM_PROVIDER_CREDENTIAL_DIM_ID PRIMARY KEY,
COMPANY_DIM_ID NUMBER DEFAULT -1 NOT NULL,
PROV_DIM_ID NUMBER DEFAULT -1 NOT NULL,
PROV_CRED_TYPE_DIM_ID NUMBER NOT NULL,
CRED_SEQ_NO NUMBER(5,0) NOT NULL,
CRED_VALUE_1 VARCHAR(15),
CRED_VALUE_2 VARCHAR(50),
EFFECTIVE_DATE DATE,
TERM_DATE DATE,
CRED_STATE VARCHAR(2),
CRED_PAR_IND VARCHAR(2),
CONVERTED_FROM_DIM_ID NUMBER NOT NULL DEFAULT -1,
DW_INSERT_DATETIME DATE NOT NULL,
DW_UPDATE_DATETIME DATE NOT NULL,
SF_INSERT_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_UPDATE_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_PROCESS_ID VARCHAR(36),
CONSTRAINT UK_F_DIM_PROVIDER_CREDENTIAL_IDS_CONVERTED UNIQUE (COMPANY_DIM_ID,PROV_DIM_ID,PROV_CRED_TYPE_DIM_ID,CRED_SEQ_NO,CONVERTED_FROM_DIM_ID),
CONSTRAINT FK_DIM_PROV_CREDENTIAL_PROV_CRED_TYPE FOREIGN KEY (PROV_CRED_TYPE_DIM_ID) REFERENCES COMPACT.DIM_PROV_CRED_TYPE(PROV_CRED_TYPE_DIM_ID),
CONSTRAINT FK_DIM_PROV_CREDENTIAL_DIM_COMPANY FOREIGN KEY (COMPANY_DIM_ID) REFERENCES COMPACT.DIM_COMPANY(COMPANY_DIM_ID),
CONSTRAINT FK_DIM_PROV_CREDENTIAL_DIM_CONVERTED_FROM FOREIGN KEY (CONVERTED_FROM_DIM_ID) REFERENCES COMPACT.DIM_CONVERTED_FROM(CONVERTED_FROM_DIM_ID),
CONSTRAINT FK_DIM_PROV_CREDENTIAL_DIM_PROVIDER FOREIGN KEY (PROV_DIM_ID) REFERENCES COMPACT.DIM_PROVIDER(PROV_DIM_ID)
);

