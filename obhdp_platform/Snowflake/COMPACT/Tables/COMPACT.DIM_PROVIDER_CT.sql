CREATE TABLE IF NOT EXISTS COMPACT.DIM_PROVIDER (
PROV_DIM_ID INTEGER NOT NULL CONSTRAINT PK_F_DIM_PROVIDER_DIM_ID PRIMARY KEY,
SEQ_PROV_ID INTEGER NOT NULL,
COMPANY_DIM_ID INTEGER NOT NULL,
PROVIDER_ID VARCHAR(17),
MCAID_ID VARCHAR(15),
PROV_FIRST_NAME VARCHAR(30),
PROV_LAST_NAME VARCHAR(40),
PROV_MIDDLE_INITIAL VARCHAR(1),
PROV_FULL_NAME VARCHAR(75),
PROV_ADDRESS_LINE_1 VARCHAR(80),
PROV_ADDRESS_LINE_2 VARCHAR(80),
PROV_CITY VARCHAR(30),
PROV_STATE VARCHAR(6),
PROV_ZIP VARCHAR(15),
COUNTY VARCHAR(30),
PHONE_NUMBER VARCHAR(20),
EXTENSION VARCHAR(6),
DEA_NBR VARCHAR(25),
DEA_ALPHA_NBR VARCHAR(2),
LANGUAGE_1_DIM_ID INTEGER NOT NULL DEFAULT -1,
LANGUAGE_2_DIM_ID INTEGER NOT NULL DEFAULT -1,
LANGUAGE_3_DIM_ID INTEGER NOT NULL DEFAULT -1,
DW_INSERT_DATETIME DATETIME,
DW_UPDATE_DATETIME DATETIME,
GEOGRAPHY_DIM_ID INTEGER NOT NULL,
GEOGRAPHY_STATE_DIM_ID INTEGER NOT NULL,
PROV_GEOG_STATE VARCHAR(6) NOT NULL,
PROV_GEOG_STATE_DESC VARCHAR(20),
GEOGRAPHY_COUNTY_DIM_ID INTEGER NOT NULL,
PROV_GEOG_COUNTY VARCHAR(5) NOT NULL,
PROV_GEOG_COUNTY_DESC VARCHAR(25),
DFLT_VEND_DIM_ID INTEGER NOT NULL,
PROV_GEOG_ZIP VARCHAR(5),
CONVERTED_FROM_DIM_ID INTEGER NOT NULL,
NABP_NBR VARCHAR(13),
PREV_PROVIDER_ID VARCHAR(17),
MPIN VARCHAR(15),
UPIN VARCHAR(15),
NATIONAL_PROVIDER_ID VARCHAR(10),
PREV_SEQ_PROV_ID INTEGER,
MAX_ENROLLMENT INTEGER,
DOB DATE,
SSN_ID VARCHAR(15),
PROV_TYPE_DIM_ID INTEGER NOT NULL DEFAULT -1,
STATE_PROVIDER_TYPE VARCHAR(15),
PREV_MCAID_ID VARCHAR(15),
UNISON_COMMON_ID VARCHAR(12),
PROV_ENTITY VARCHAR(2),
CURR_PROV_GROUP_DIM_ID INTEGER NOT NULL DEFAULT -1,
TAXONOMY_CODE VARCHAR(12),
GENDER_DIM_ID INTEGER NOT NULL DEFAULT -1,
MULT_LOC_IND VARCHAR(1),
PROV_FAX VARCHAR(15),
LANGUAGE_4_DIM_ID INTEGER NOT NULL DEFAULT -1,
LANGUAGE_5_DIM_ID INTEGER NOT NULL DEFAULT -1,
LANGUAGE_6_DIM_ID INTEGER NOT NULL DEFAULT -1,
LANGUAGE_7_DIM_ID INTEGER NOT NULL DEFAULT -1,
LANGUAGE_8_DIM_ID INTEGER NOT NULL DEFAULT -1,
TAXONOMY_CODE_DIM_ID INTEGER DEFAULT -1,
PROV_DEG_CD VARCHAR(10),
SF_INSERT_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_UPDATE_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_PROCESS_ID VARCHAR(36),
CONSTRAINT UK_F_DIM_PROVIDER_SEQ_PROV_ID_COMPANY_DIM_ID  UNIQUE (SEQ_PROV_ID,COMPANY_DIM_ID),
CONSTRAINT FK_DIM_PROVIDER_DIM_COMPANY FOREIGN KEY (COMPANY_DIM_ID) REFERENCES COMPACT.DIM_COMPANY(COMPANY_DIM_ID),
CONSTRAINT FK_DIM_PROVIDER_DIM_GEOGRAPHY FOREIGN KEY (GEOGRAPHY_DIM_ID) REFERENCES COMPACT.DIM_GEOGRAPHY(GEOGRAPHY_DIM_ID),
CONSTRAINT FK_DIM_PROVIDER_DIM_LANGUAGE_1 FOREIGN KEY (LANGUAGE_1_DIM_ID) REFERENCES COMPACT.DIM_LANGUAGE(LANGUAGE_DIM_ID),
CONSTRAINT FK_DIM_PROVIDER_DIM_LANGUAGE_2 FOREIGN KEY (LANGUAGE_2_DIM_ID) REFERENCES COMPACT.DIM_LANGUAGE(LANGUAGE_DIM_ID),
CONSTRAINT FK_DIM_PROVIDER_DIM_LANGUAGE_3 FOREIGN KEY (LANGUAGE_3_DIM_ID) REFERENCES COMPACT.DIM_LANGUAGE(LANGUAGE_DIM_ID),
CONSTRAINT FK_DIM_PROVIDER_DIM_VENDOR FOREIGN KEY (DFLT_VEND_DIM_ID) REFERENCES COMPACT.DIM_VENDOR(VEND_DIM_ID)
);
