CREATE TABLE IF NOT EXISTS COMPACT.DIM_PROV_ADDR_INFO (
PROV_ADDR_INFO_DIM_ID NUMBER NOT NULL CONSTRAINT PK_F_DIM_PROV_ADDR_INF0_DIM_ID PRIMARY KEY,
COMPANY_DIM_ID NUMBER DEFAULT -1 NOT NULL,
PROV_DIM_ID NUMBER DEFAULT -1 NOT NULL,
PROV_ADDR_DIM_ID NUMBER NOT NULL,
PROV_ADDR_ID VARCHAR(12) NOT NULL,
PROV_ADDR_SUB_ID VARCHAR(3) NOT NULL,
EFFECTIVE_DATE DATE NOT NULL,
INFO_CODE_TYPE_DIM_ID NUMBER DEFAULT -1 NOT NULL,
INFO_CODE_DIM_ID NUMBER DEFAULT -1 NOT NULL,
INFO_VALUE VARCHAR(100),
CONVERTED_FROM_DIM_ID NUMBER DEFAULT -1 NOT NULL,
DW_INSERT_DATETIME DATE NOT NULL,
DW_UPDATE_DATETIME DATE NOT NULL,
SF_INSERT_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_UPDATE_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_PROCESS_ID VARCHAR(36),
CONSTRAINT UK_F_DIM_PROV_ADDR_INFO_DIM_IDS_EFFECTIVE UNIQUE (COMPANY_DIM_ID,PROV_DIM_ID,PROV_ADDR_ID,PROV_ADDR_SUB_ID,EFFECTIVE_DATE,INFO_CODE_TYPE_DIM_ID,INFO_CODE_DIM_ID,CONVERTED_FROM_DIM_ID),
CONSTRAINT FK_DIM_PROV_ADDR_INFO_DIM_CONVERTED_FROM FOREIGN KEY (CONVERTED_FROM_DIM_ID) REFERENCES COMPACT.DIM_CONVERTED_FROM(CONVERTED_FROM_DIM_ID),
CONSTRAINT FK_DIM_PROV_ADDR_INFO_DIM_COMPANY FOREIGN KEY (COMPANY_DIM_ID) REFERENCES COMPACT.DIM_COMPANY(COMPANY_DIM_ID),
CONSTRAINT FK_DIM_PROV_ADDR_INFO_DIM_PROVIDER FOREIGN KEY (PROV_DIM_ID) REFERENCES COMPACT.DIM_PROVIDER(PROV_DIM_ID),
CONSTRAINT FK_DIM_PROV_ADDR_INFO_DIM_PROV_ADDRESS FOREIGN KEY (PROV_ADDR_DIM_ID) REFERENCES COMPACT.DIM_PROVIDER_ADDRESS(PROV_ADDR_DIM_ID)
);
