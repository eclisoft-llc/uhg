CREATE TABLE IF NOT EXISTS COMPACT.FACT_MEMBER_ELIG_HISTORY (
MEMB_DIM_ID NUMBER NOT NULL,
COMPANY_DIM_ID NUMBER NOT NULL,
PLAN_DIM_ID NUMBER NOT NULL DEFAULT -1,
PROV_DIM_ID NUMBER NOT NULL DEFAULT -1,
ELIG_STATUS_DIM_ID NUMBER NOT NULL DEFAULT -1,
LINE_OF_BUSINESS_DIM_ID NUMBER NOT NULL DEFAULT -1,
GROUP_DIM_ID NUMBER NOT NULL DEFAULT -1,
TERM_REASON_DIM_ID NUMBER NOT NULL DEFAULT -1,
PCP_CHANGE_REASON_DIM_ID NUMBER NOT NULL DEFAULT -1,
ENROLL_REASON_DIM_ID NUMBER NOT NULL DEFAULT -1,
COA_DIM_ID NUMBER NOT NULL DEFAULT -1,
PROGRAM_STATUS_CODE_DIM_ID NUMBER NOT NULL DEFAULT -1,
EFFECTIVE_DATE DATE NOT NULL,
TERM_DATE DATE NOT NULL,
INSERT_DATETIME DATE,
UPDATE_DATETIME DATE,
CONVERTED_FROM_DIM_ID NUMBER NOT NULL DEFAULT -1,
COSMOS_CUST_SEG_DIM_ID NUMBER NOT NULL DEFAULT -1,
MEDICARE_TYPE_DIM_ID NUMBER NOT NULL DEFAULT -1,
LTC_IND_DIM_ID NUMBER NOT NULL DEFAULT -1,
UNISON_PRODUCT_DIM_ID NUMBER,
STATE_SPEC_COUNTY_DIM_ID NUMBER,
DISABLED_IND_DIM_ID NUMBER NOT NULL DEFAULT -1,
HOSPICE_IND_DIM_ID NUMBER NOT NULL DEFAULT -1,
PREGNANCY_IND_DIM_ID NUMBER NOT NULL DEFAULT -1,
COURT_CODE_DIM_ID NUMBER NOT NULL DEFAULT -1,
PLAN_LOB_DIM_ID NUMBER NOT NULL DEFAULT -1,
SYS1 VARCHAR(60),
SYS2 VARCHAR(60),
SYS3 VARCHAR(60),
SYS4 VARCHAR(60),
SOURCE_PRODUCT_DIM_ID NUMBER NOT NULL DEFAULT -1,
CLASS_DIM_ID NUMBER NOT NULL DEFAULT -1,
CLASS_PLAN_DIM_ID NUMBER NOT NULL DEFAULT -1,
PRODUCT_DIM_ID NUMBER NOT NULL DEFAULT -1,
SDA_DIM_ID NUMBER,
SF_INSERT_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_UPDATE_DATETIME DATETIME DEFAULT CURRENT_TIMESTAMP,
SF_PROCESS_ID VARCHAR(36),
CONSTRAINT PK_FACT_MEMBER_ELIG_HISTORY PRIMARY KEY (MEMB_DIM_ID,COMPANY_DIM_ID,EFFECTIVE_DATE,TERM_DATE,PLAN_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_COMPANY FOREIGN KEY (COMPANY_DIM_ID) REFERENCES COMPACT.DIM_COMPANY(COMPANY_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_CONVERTED_FROM FOREIGN KEY (CONVERTED_FROM_DIM_ID) REFERENCES COMPACT.DIM_CONVERTED_FROM(CONVERTED_FROM_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_GROUP FOREIGN KEY (GROUP_DIM_ID) REFERENCES COMPACT.DIM_GROUP(GROUP_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_LINE_OF_BUSINESS FOREIGN KEY (LINE_OF_BUSINESS_DIM_ID) REFERENCES COMPACT.DIM_LINE_OF_BUSINESS(LINE_OF_BUSINESS_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_MEMBER FOREIGN KEY (MEMB_DIM_ID) REFERENCES COMPACT.DIM_MEMBER(MEMB_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_PLAN_LOB FOREIGN KEY (PLAN_LOB_DIM_ID) REFERENCES COMPACT.DIM_PLAN_LOB(PLAN_LOB_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_PLAN FOREIGN KEY (PLAN_DIM_ID) REFERENCES COMPACT.DIM_PLAN(PLAN_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_PROVIDER FOREIGN KEY (PROV_DIM_ID) REFERENCES COMPACT.DIM_PROVIDER(PROV_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_REASON_ENROLL FOREIGN KEY (ENROLL_REASON_DIM_ID) REFERENCES COMPACT.DIM_REASON_CODE(REASON_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_REASON_CHANGE FOREIGN KEY (PCP_CHANGE_REASON_DIM_ID) REFERENCES COMPACT.DIM_REASON_CODE(REASON_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_REASON_TERM FOREIGN KEY (TERM_REASON_DIM_ID) REFERENCES COMPACT.DIM_REASON_CODE(REASON_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_COSMOS_CUST_SEG FOREIGN KEY (COSMOS_CUST_SEG_DIM_ID) REFERENCES COMPACT.DIM_COSMOS_CUST_SEG(COSMOS_CUST_SEG_DIM_ID),
CONSTRAINT FK_FACT_MEMBER_ELIG_HISTORY_DIM_MEDICARE_TYPE FOREIGN KEY (MEDICARE_TYPE_DIM_ID) REFERENCES COMPACT.DIM_MEDICARE_TYPE(MEDICARE_TYPE_DIM_ID)
);
